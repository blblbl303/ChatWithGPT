FUNCTION(GENERATE_FOLDER_SG _FILES RELATIVE_DIR PREFIX_FOLDER_NAME)
	#message(${RELATIVE_DIR})
	FOREACH(FILE_PATH ${_FILES})
		FILE(RELATIVE_PATH SRC_GR ${RELATIVE_DIR} ${FILE_PATH})
		#message(${FILE_PATH})
		SET(SRC_GR ${PREFIX_FOLDER_NAME}${SRC_GR})
		#message(${SRC_GR})
		#Extract the folder, ie remove the filename part
		STRING(REGEX REPLACE "(.*)(/[^/]*)$" "\\1" SRC_GR ${SRC_GR})
		#Source_group expects \\ (double antislash), not / (slash)
		STRING(REPLACE / \\ SRC_GR ${SRC_GR})
		SOURCE_GROUP("${SRC_GR}" FILES ${FILE_PATH})
	ENDFOREACH()
ENDFUNCTION()

MACRO(GET_QT_PREFIX_PATH RESULT)   
	IF(CMAKE_SIZEOF_VOID_P EQUAL 8)
		IF (NOT QT64_LOCATION)  
			SET(QT64_LOCATION $ENV{QT64_LOCATION})
		ENDIF() 
		SET(${RESULT} ${QT64_LOCATION})
    ELSE() 
		IF (NOT QT_LOCATION)
			SET(QT_LOCATION $ENV{QT_LOCATION})   
		ENDIF()
		SET(${RESULT} ${QT_LOCATION})    
	ENDIF()
ENDMACRO()